# HZOJ 589 看电影 题解

## 题目描述

 听说 NOIP2019 模拟赛大家都考得不错，于是胡船长奖励了 K 张的电影票奖励 OI 队的同学去看电影。可是 OI 队的同学们共有 N（N≥K） 人。于是机智的你想到了一个公平公正的方法决定哪 K 人去看电影。

 N 个人排成一圈，按顺时针顺序标号为 1−N，每次随机一个还存活的人的编号，将这个人踢出。继续上述操作，直到剩下 K 个人。

 但这样显然太无聊了，于是你又想出一个牛逼的方法。

 N 个人排成一圈，按顺时针顺序标号为 1−N，**每次随机一个 1−N 的编号**，假设随机到的编号是 X，如果编号为 X 人还未踢出，则将这个人踢出，否则看编号为 X%N+1（即顺时针顺序下一个编号）的人是否存活，如果还未踢出则将他踢出，否则继续看编号 （X+1）%N+１ 的人，如果已被踢出看顺时针的下一个…………，以此类推，直到踢出一个人为止。重复上述操作，直到剩下 K 个人。

 已知你的编号是 Id，问按照你的方法来你有多少的概率可以不被踢出，成功得到看电影的机会。



## 分析

**由于每次都是随机的数字，选到的概率必然是相同的**，所以实际上就是求N / K最简化的分数表示，**求最大公因数之后做除法即可。**



## 代码

```c++
#include<iostream>
using namespace std;

int n, k, id;

int gcd(int n, int k) {
    return k ? gcd(k, n % k) : n;
}

int main() {
    cin >> n >> k >> id;
    int d = gcd(n, k);
    n /= d;
    k /= d;
    cout << k << "/" << n << endl;
    return 0;
}
```

