# 洗牌算法 (shuffle algorithm)

## 一、等概率洗牌的暴力算法

洗牌算法的暴力实现：

给定原数组nums, 长度为n，执行如下操作：

+ 从nums中剩余的数字中随机选取一个，放入ans数组，并从nums中删除，直至nums为空。

该算法可以保证每个元素以概率$1/n$被选中，因为如果一个元素在第i轮被选中，则其概率为$\frac{n-1}{n}\times \frac{n-2}{n-1}\times ...\times \frac{1}{n-i+1}=\frac{1}{n}$。

不过该算法的时间复杂度是$O(N^2)$，因为删除操作需要调整nums，时间复杂度为$O(K)$。



## 二、Fisher-Yates 洗牌算法（与最后一个元素交换）

Fisher-Yates洗牌算法是原地算法，每次从下标$[0,i]$中随机选择一个，将对应元素和第$i$个元素进行交换，就省去了删除操作，时间复杂度是$O(N)$，空间复杂度是$O(N)$。



## 三、Knuth 洗牌算法 (从剩余元素中选取一个放入与剩余元素的第一个交换)

Knuth洗牌算法也是原地算法，每次从下标$[i,N-1]$中随机选取一个，将对应元素和第i个元素进行交换，也是省去了删除操作，时间复杂度是$O(N)$，空间复杂度是$O(N)$。



