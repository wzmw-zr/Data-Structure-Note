# 图的存储

## 一、邻接矩阵

**使用一个二维数组$adj$来存边**，其中$adj[u][v]$为1表示存在$u$到$v$的v边，为0表示不存在。若为带权图，可以在$adj[u][v]$中存储$u$到$v$的边和边权。

邻接矩阵只适用于没有重边的情况，并且空间复杂度为$O(n^2)$，不适合稀疏图，所以一般不用邻接矩阵。



## 二、邻接表

### 1.结构定义

**使用一个==支持动态增加元素的数据结构构成的数组来存边==**，如`vector<int> adj[n + 1]` ，其中$adj[u]$存储的是点$u$的所有**出边的相关信息**(**终点，边权等**)。

### 2.复杂度

1. 查询是否存在$u$到$v$的边：$O(d^+(u))$(如果事先进行了排序就可以使用二分查找做到$O(\log{(d^+(u))})$)。
2. 遍历点$u$的所有出边：$O(d^+(u))$。
3. 遍历整张图：$O(n+m)$。
4. 空间复杂度：$O(m)$。

### 3.应用

各种图都很适合，**尤其适用于需要==对一个点的所有出边进行排序==的场合**。



## 三、链式前向星

### 1.结构定义

本质上是用链表实现的邻接表。

### 2.复杂度

1. 查询是否存在$u$到$v$的边：$O(d^+(u))$。
2. 遍历点$u$的所有出边：$O(d^+(u))$。
3. 遍历整张图：$O(n+m)$。
4. 空间复杂度：$O(m)$。

### 3.应用

存各种图都很适合，但是无法快速查询一条边是否存在，也不能方便地对一个点的出边进行排序。

优点是边是带编号的，常用于网络流。



