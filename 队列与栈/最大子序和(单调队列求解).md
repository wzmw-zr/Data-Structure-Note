# 最大子序和(单调队列求解)

## 一、前缀和序列与差分序列

### 1.前缀和序列

前缀和定义：一个数组的前缀和$S_i$表示该数组前$i$项的和，$S_0$的值就是0，此时相当于给原序列最前面加上一个元素0，作为第0个元素。

### 2.差分序列

差分序列的定义：差分序列的元素$x_i(i \ge1)$是原序列相邻元素$a_i,a_{i-1}$的差，这也相当于给原序列最前面加上一个元素0，作为第0个元素。

### 3.前缀和序列和差分序列互为逆运算

原序列是前缀和的差分序列，因为前缀和序列是原序列的前i项的和组成的序列，其相邻两项之差可以得到原序列的元素。

原序列也是差分序列的前缀和序列，差分序列前i项累加可以获得原序列的第i项。

### 4.信息的等价性表示

==**如果两种信息可以相互转换，说明这两种信息的信息量是一样的，这两种信息是等价的。**==

原数组序列可以通过计算前i项的和计算出前缀和序列，前缀和序列可以通过相邻两项作差获得原序列，它们可以互相转化，因此可以说这两种信息是等价的。

同样的，原序列与差分序列也是信息等价的。

所以，**差分序列，原序列，前缀和序列是信息等价的。**

虽然这三种是等价的信息表示，但是对于不同的操作它们的操作时间复杂度是不一样的。

### 5.前缀和序列的意义

使用**前缀和序列可以方便地得出原序列的区间和**：原序列的$[i,j]$区间内的元素的和$\sum_{x=i}^{j}a_x = S_j-S_{i-1}$。

> ==**启发：原序列的区间和可以转换为前缀和序列的两项差，在计算与区间和相关的题目时，先计算出前缀和序列。**==

### 6.差分序列的意义

**差分序列适合处理对于原序列上区间整体加减**的操作，**对于原序列的区间整体加减相当于差分序列的区间两点加减。**



